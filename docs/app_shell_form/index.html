<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Create Form - small-shell.org</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/docco.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">small-shell.org</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Quick Start <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../quick_start_linux/" class="dropdown-item">For Ubuntu or debian</a>
</li>
                                    
<li>
    <a href="../quick_start_linux_apache2/" class="dropdown-item">For Ubuntu + apache2 </a>
</li>
                                    
<li>
    <a href="../quick_start_Mac/" class="dropdown-item">For macOS</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Shell tour <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../app_shell_tour/" class="dropdown-item">APP Shell</a>
</li>
                                    
<li>
    <a href="../data_shell_tour/" class="dropdown-item">DATA Shell</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Create Form</a>
</li>
                                    
<li>
    <a href="../app_shell_scratch/" class="dropdown-item">Create Scratch APP</a>
</li>
                                    
<li>
    <a href="../cook_book/" class="dropdown-item">Cook Book</a>
</li>
                                    
<li>
    <a href="../automation_tour/" class="dropdown-item">E-cron (Automate & dataExchange)</a>
</li>
                                    
<li>
    <a href="../python_tour/" class="dropdown-item">Pyshell</a>
</li>
                                    
<li>
    <a href="../auth_shell/" class="dropdown-item">Auth</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item">
                                <a rel="prev" href="../data_shell_tour/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../app_shell_scratch/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#create-form" class="nav-link">Create Form</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#create-databox" class="nav-link">Create DataBox</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#generate-form" class="nav-link">Generate Form</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#make-snapshot-graph" class="nav-link">Make snapshot graph</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#change-form-view" class="nav-link">Change Form view</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="create-form">Create Form</h1>
<p>You can create dedicated design Form very easily.</p>
<pre><code>sudo /usr/local/small-shell/adm/gen -app
Type of APP (1.BASE | 2.FORM | 3.SCRATCH): 2    
# Dialog will be started, You could define keys which could insert form in the dialog
</code></pre>
<h4 id="seceinario">Seceinario</h4>
<p>This is an example of creating survey form and analyzing result.</p>
<ol>
<li>Create DataBox for survey </li>
<li>Create survey form for end user</li>
<li>Analyze survey result with graph</li>
</ol>
<h4 id="required">Required</h4>
<p>Please setup Base APP beorehand refering to <a href="../app_shell_tour/">Base APP</a></p>
<h2 id="create-databox">Create DataBox</h2>
<pre><code>sudo /usr/local/small-shell/adm/gen -databox
databox_name: survey.box
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this case no specific parameter could not be primary key, so it's better to use hashid as primary key. please just input hashid in the dialog as primary key name. then hash id will be generated by system itself.</p>
</div>
<h6 id="result-of-dialog">Result of dialog</h6>
<pre><code>#primary_key
name=&quot;hashid&quot;
label=&quot;hashid&quot;
type=&quot;text&quot;
option=&quot;required&quot;

#column2
name=&quot;generation&quot;
label=&quot;Generation&quot;
type=&quot;radio&quot;
params=&quot;young middle senior&quot;
option=&quot;&quot;

#column3
name=&quot;impression&quot;
label=&quot;Impression of this product&quot;
type=&quot;radio&quot;
params=&quot;Good Average Bad&quot;
option=&quot;required&quot;

#column4
name=&quot;comment&quot;
label=&quot;Comment&quot;
type=&quot;textarea&quot;
option=&quot;&quot;
</code></pre>
<h2 id="generate-form">Generate Form</h2>
<p>Then let's create survey Form for end users</p>
<pre><code>sudo /usr/local/small-shell/adm/gen -app
Type of APP (1.BASE | 2.FORM | 3.SCRATCH): 2  
form_name: survey
</code></pre>
<h6 id="result-of-dialog-comment_check-and-note-will-be-excluded-for-end-user-form">result of dialog. comment_check and note will be excluded for end user FORM.</h6>
<pre><code>FORM will be generated by following order, please check it
-----------------------------------------------------------------

APP type: 2.FORM
Form name: survey
target_databox: survey.box
description: This is a internal survey of product A
IP_whitelisting: no
Included keys: generation,impression,comment
Access URL: https://ec2-XX-XX-XX-XX.us-west-2.compute.XXXX.com/cgi-bin/survey

-----------------------------------------------------------------
</code></pre>
<h4 id="submit-survey-using-generated-form">Submit survey using generated FORM</h4>
<p>Access to survey Form 
<img alt="Screenshot" src="../img/survey_form.png" /></p>
<h4 id="check-databox-via-base-app">Check databox via Base APP</h4>
<p>Data will be pushed to the databox through the survey form. admin can check survey results thorough Base APP. then you can analyze result on table view or console box.</p>
<p><img alt="Screenshot" src="../img/survey_table.png" /> </p>
<h2 id="make-snapshot-graph">Make snapshot graph</h2>
<p>You can viruslize survey results to the graph. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>please setup pyshell env beforehand, see detail at <a href="../python_tour/">pyshell</a></p>
</div>
<h6 id="example-executed-on-apr-3rd-2022-as-snapshot">example executed on Apr 3rd 2022 as snapshot.</h6>
<pre><code>sudo -u small-shell /usr/local/small-shell/util/scripts/countup.sh databox:survey.box \
key:impression filters:Good,Average,Bad type:pie title:2022-04-03_survey_result frequency:snapshot
</code></pre>
<p>please input #stats to console box on Base APP.</p>
<blockquote>
<p>Base APP &gt; Console Box [#stats]</p>
</blockquote>
<p><img alt="Screenshot" src="../img/stats_graph.png" /></p>
<p><img alt="Screenshot" src="../img/survey_graph_pie.png" /></p>
<h2 id="change-form-view">Change Form view</h2>
<p>You can modify html descriptor directly.</p>
<pre><code>sudo vi /var/www/descriptor/${Form}_get_new.html.def
</code></pre>
<pre><code>e.g.) sudo vi /var/www/descriptor/survey_get_new.html.def

--code--
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot; /&gt;
        &lt;title&gt;survey.new&lt;/title&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;./survey_css&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;div class=&quot;container&quot;&gt;

      &lt;div class=&quot;form-box&quot;&gt;
      &lt;div class=&quot;description&quot;&gt;
      &lt;h1&gt;#survey&lt;/h1&gt;
      &lt;p&gt;This is a internal survey of product A&lt;/p&gt;
      &lt;hr&gt;
      &lt;br&gt;
      &lt;/div&gt;
      &lt;form method=&quot;post&quot; action=&quot;./survey?req=set&amp;id=%%id&quot;&gt;
      &lt;ul&gt;
       %%dataset
      &lt;/ul&gt;
      &lt;button class=&quot;button&quot; type=&quot;submit&quot;&gt;SUBMIT&lt;/button&gt;
      &lt;/form&gt;
      &lt;/div&gt;

    &lt;/div&gt;
   &lt;/body&gt;
&lt;/html&gt;
-------
</code></pre>
<h4 id="change-row-size-for-textarea">Change row size for textarea</h4>
<p>You can change row size by inserting code to ${Form}_new.html.def and ${Form}_get.html.def</p>
<pre><code>e.g) 
sudo vi /var/www/descriptor/survey_new.html.def

--code--
&lt;script&gt;
  document.getElementById(&quot;txtara&quot;).rows=&quot;10&quot;
&lt;/script&gt;
--------
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
