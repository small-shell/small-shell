<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Starting on Linux - small-shell.org</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/docco.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">small-shell.org</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Quick Start</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Starting on Linux</a>
</li>
                                    
<li>
    <a href="../quick_start_linux_apache2/" class="dropdown-item">Use apache2 </a>
</li>
                                    
<li>
    <a href="../quick_start_Mac/" class="dropdown-item">For macOS</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Shells</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../app_shell_tour/" class="dropdown-item">APP Shell</a>
</li>
                                    
<li>
    <a href="../data_shell_tour/" class="dropdown-item">DATA Shell</a>
</li>
                                    
<li>
    <a href="../app_shell_form/" class="dropdown-item">Create Form</a>
</li>
                                    
<li>
    <a href="../app_shell_custom/" class="dropdown-item">Create Custom APP</a>
</li>
                                    
<li>
    <a href="../cook_book/" class="dropdown-item">Cook Book</a>
</li>
                                    
<li>
    <a href="../automation_tour/" class="dropdown-item">E-cron (Automate & dataExchange)</a>
</li>
                                    
<li>
    <a href="../python_tour/" class="dropdown-item">Pyshell</a>
</li>
                                    
<li>
    <a href="../auth_shell/" class="dropdown-item">Auth</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../quick_start_linux_apache2/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#quick-start" class="nav-link">Quick start</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#setup-env" class="nav-link">Setup Env</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#installation" class="nav-link">Installation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#generate-databox" class="nav-link">Generate Databox</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#generate-base-app" class="nav-link">Generate Base APP</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#connect-to-the-base-app" class="nav-link">Connect to the Base APP</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#re-start-small-shell-web-server" class="nav-link">Re-start small-shell Web server</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#update-to-latest-version" class="nav-link">Update to latest version</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="quick-start">Quick start</h1>
<p>This is a quick start guide with small-shell default Web server that's included in small-shell package. </p>
<h2 id="setup-env">Setup Env</h2>
<p>First of all, please add small-shell user to the OS and then please install required commands and libraries.
required commands and libraries are "curl, bc, cron, npm, php, jq". in this example, will use apt command on Ubuntu or debian for intallation.</p>
<pre><code># addd user
sudo useradd -s /sbin/nologin small-shell

# update apt list and install curl
sudo apt update
sudo apt install curl

# install bc and crontab if its not installed
sudo apt install bc
sudo apt install cron

# install npm/php libraries, php will be used for encoding and node.js will be used for writing Web server
sudo apt install npm
sudo apt install php

##install jq
sudo apt install jq
</code></pre>
<h2 id="installation">Installation</h2>
<p>Once installed required commands and libraries, let's install small-shell from git HUB.</p>
<pre><code># install
cd /usr/local
sudo git clone https://github.com/small-shell/small-shell.git
sudo chown -R small-shell:small-shell /usr/local/small-shell
sudo chmod 755 /usr/local/small-shell/adm/gen
</code></pre>
<h2 id="generate-databox">Generate Databox</h2>
<p>Then Let's generate databox as the data store of Web APP.
DATA shell details are in <a href="../data_shell_tour/">DATA shell</a> </p>
<pre><code>sudo /usr/local/small-shell/adm/gen -databox
#-&gt; dialog will be started
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can exit dialog anytime with ctrl + C</p>
</div>
<h5 id="dialog">Dialog</h5>
<p>In this expamle, "item_name" is set as priary key.</p>
<pre><code>Databox Name: item.db
Primary Key Name: item_name
Primary Key Label: Item Name
Add more columns to the databox? (yes | no): yes
Col2 Key Name: description
Col2 Key Label: Description
Data Type (text | select | radio | checkbox | email | num | tel | date | date-time | url | textarea | file | pdls | mls): text
Set this as required? (yes | no): yes
Add more columns to the databox? (yes | no): no


The daetabox will be generated in the following order. Please check it.
-----------------------------------------------------------------
Databox Name:item.db
#primary_key
name=&quot;item_name&quot;
label=&quot;Item Name&quot;
type=&quot;text&quot;
option=&quot;required&quot;

#key(col2)
name=&quot;description&quot;
label=&quot;Description&quot;
type=&quot;text&quot;
option=&quot;required&quot;
-----------------------------------------------------------------
Is that OK? (yes | no): yes
</code></pre>
<h2 id="generate-base-app">Generate Base APP</h2>
<p>Once databox is ready, let's generate  Base APP, detail of this APP is in <a href="../app_shell_tour/">APP shell</a></p>
<pre><code>sudo /usr/local/small-shell/adm/gen -app
</code></pre>
<p>In this example http will be used as protocol. if you have cert and key for ssl, please use https or if you want to generate https cert, please check <a href="../cook_book/#automate-ssl-cert-deployment">cookbook</a></p>
<pre><code>Type of APP (1.BASE | 2.FORM | 3.CUSTOM): 1
Type of Server (1.small-shell Web srv | 2.other Web srv): 1
protocol (http | https): http
Web Server FQDN or IP addr (e.g. 192.168.10.1): $server
</code></pre>
<h4 id="add-user">Add user</h4>
<p>Following example is adding user name "test", "test" can initialize and get base64 key by accessing the URL that will be generated by the command.</p>
<pre><code>sudo /usr/local/small-shell/adm/ops add.usr:test
</code></pre>
<p>URL can be accessed only 1 time, please inform to the user</p>
<pre><code>-------------------------------------------------------------------------------
This is the URL for key initialization and generation for test on Base APP
-------------------------------------------------------------------------------
http://${server}/cgi-bin/auth.base?initialize=*****26fd2,4c5a2ae68d20e530b4ce457c71eae42590135268e1fb933a945f7e188678ccf4
</code></pre>
<p>End user can access to the Base APP by click the button and key will be stored to local storage of browser.
<img alt="Screenshot" src="../img/initialize_key.png" /></p>
<h2 id="connect-to-the-base-app">Connect to the Base APP</h2>
<p>Image of authentication page of Base APP is as following. the access URL will be shown in the end of the gen dialog but basically it will be "http://${FQDN}/base".
key will be inserted automatically if it's stored in local storage. </p>
<p><img alt="Screenshot" src="../img/key_auth.png" /></p>
<p>Then end user can use following APP features as default. ofcourse you can make your own APP, 
please see detail on <a href="../app_shell_custom/">Create Custom APP</a></p>
<h4 id="base-app-features">Base APP FEATURES</h4>
<ul>
<li>Push or Get datas thorough simplest UI</li>
<li>Can use "And" search using space [e.g. word1 word2]</li>
<li>Multi type of sort using sort command</li>
<li>Serch using specific key of column, [e.g key{wordA}]</li>
<li>Download search result by CSV format</li>
<li>Import Data with CSV format</li>
<li>Define number of line per page [e.g #line:20] [e.g word #line:20]</li>
</ul>
<p><img alt="Screenshot" src="../img/databox.png" /></p>
<h4 id="command-console">+ Command Console</h4>
<ul>
<li>Analyze data using linux commands [grep, wc, awk, uniq, sed, tail, head, nl, sort, cut ..]</li>
<li>Search log with freewords by adding tag [e.g. word1 word2 #log]</li>
<li>Show statistics #stats, you need to define statistics job. Please see the <a href="../python_tour/">pyshell</a> for further details.</li>
</ul>
<p><img alt="Screenshot" src="../img/console.png" /></p>
<h4 id="re-generate-initialize-url">Re-generate initialize URL</h4>
<p>If end user lost their key, you can re-generate initialize URL by following command. In this example, admin will re-generate initialize URL for user name "test"</p>
<pre><code> sudo /usr/local/small-shell/adm/ops initialize.usr:test
</code></pre>
<h2 id="re-start-small-shell-web-server">Re-start small-shell Web server</h2>
<p>If you want to restart Web server please use systemctl command.</p>
<pre><code>sudo systemctl restart small-shell

# check process
ps -ef | grep app.sh
# check log
ls -ltr /var/www/log
</code></pre>
<h2 id="update-to-latest-version">Update to latest version</h2>
<p>You can update small-shell very easily. this is exmaples of update procedure. <br />
Once you clone the latest code, it's recommended to re-generate Base APP. <br />
Even if Base APP has been upgraded, you can keep to use user key, ssl cert &amp; key, API key.   </p>
<pre><code>cd /var/tmp
sudo git clone https://github.com/small-shell/small-shell.git
sudo \cp -Rf small-shell/* /usr/local/small-shell/
sudo rm -rf small-shell

# re-generate Base APP
sudo /usr/local/small-shell/adm/gen -app
-----------------------------------------------
Type of APP (1.BASE | 2.FORM | 3.CUSTOM): 1
------------------------------------------------
-&gt; dialog will be started
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ECCJ0KEWFN"></script>
        <script src="../js/analytics.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
